"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[160],{361:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(87),r="Button_button__wiIYs",c="Button_buttonWrap__ZRtPo",o=n(184),s=function(e){var t=e.btnName,n=e.onClick;return(0,o.jsx)("div",{className:c,children:(0,o.jsx)("button",{className:r,onClick:n,type:"button",children:t})})},i="MovieList_buttonWrap__bPcX1",u=function(e){var t=e.location,n=e.movieList,r=e.paginationPage,c=e.totalPages,u=e.onLoadNextPage,l=e.onLoadPreviousPage,h=e.onToStartPage;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("ul",{children:n.map((function(e){var n=e.id,r=e.title;return(0,o.jsx)("li",{children:(0,o.jsx)(a.rU,{to:"/movies/".concat(n),state:t,children:r})},n)}))}),(0,o.jsxs)("div",{className:i,children:[0!==n.length&&r>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{btnName:"Start page",onClick:h}),(0,o.jsx)(s,{btnName:"Previous page",onClick:l})]}),0!==n.length&&r<c&&(0,o.jsx)(s,{btnName:"Next page",onClick:u})]})]})}},160:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(439),r=n(791),c=n(689),o=n(87),s=n(468),i={searchForm:"Search_searchForm__0FeD+"},u=n(184),l=function(e){var t=e.handleSubmit,n=e.handleSearchInputChange,a=e.searchText;return(0,u.jsxs)("form",{onSubmit:t,className:i.searchForm,children:[(0,u.jsx)("label",{children:(0,u.jsx)("input",{className:i.input,value:a,name:"search",type:"text",onChange:n,autoComplete:"off"})}),(0,u.jsx)("button",{className:i.searchBtn,type:"submit",children:"Search"})]})},h=n(361),g=function(){var e,t,n,i=(0,c.TH)(),g=(0,o.lr)(),p=(0,a.Z)(g,2),d=p[0],f=p[1],m=(0,r.useState)([]),v=(0,a.Z)(m,2),x=v[0],b=v[1],j=(0,r.useState)(null!==(e=d.get("search"))&&void 0!==e?e:""),_=(0,a.Z)(j,2),P=_[0],N=_[1],k=(0,r.useRef)(0),S=null!==(t=Number(d.get("page")))&&void 0!==t?t:0,C="";(0,r.useEffect)((function(){(0,s.V)("/search/movie",S,P).then((function(e){if(200!==e.status)throw new Error(e.statusText);k.current=e.data.total_pages,b(e.data.results)}))}),[S,P]);return C=0===x.length?"No matches":'Search "'.concat(P,'" (Page ').concat(S," of ").concat(k.current,")"),(0,u.jsxs)("div",{children:[(0,u.jsx)(l,{handleSubmit:function(e){e.preventDefault(),S=1;var t=d.get("search");f({search:t.trim(),page:1}),N(t.trim())},handleSearchInputChange:function(e){var t=e.target.value;f({search:t,page:S})},searchText:null!==(n=d.get("search"))&&void 0!==n?n:""}),P&&(0,u.jsx)("h3",{children:C}),0!==x.length&&(0,u.jsx)(h.Z,{location:i,movieList:x,paginationPage:S,totalPages:k.current,onLoadNextPage:function(){f({search:P,page:S+=1})},onLoadPreviousPage:function(){f({search:P,page:S-=1})},onToStartPage:function(){S=1,f({search:P,page:1})}})]})}},468:function(e,t,n){n.d(t,{V:function(){return i}});var a=n(861),r=n(757),c=n.n(r),o=n(243),s=n(73);function i(e){return u.apply(this,arguments)}function u(){return u=(0,a.Z)(c().mark((function e(t){var n,a,r,i,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:"",e.prev=2,r="https://api.themoviedb.org/3"+t+"?api_key=".concat("6dfafd08c001fd3262dc3fe23504fa05"),a&&(r+="&query=".concat(a.trim())),n&&(r+="&page=".concat(n)),e.next=10,o.Z.get(r);case 10:return i=e.sent,e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(2),s.Am.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),u.apply(this,arguments)}}}]);
//# sourceMappingURL=160.ff37a7a0.chunk.js.map