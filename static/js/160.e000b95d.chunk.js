"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[160],{361:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(87),r="Button_button__wiIYs",c="Button_buttonWrap__ZRtPo",o=a(184),s=function(e){var t=e.btnName,a=e.onClick;return(0,o.jsx)("div",{className:c,children:(0,o.jsx)("button",{className:r,onClick:a,type:"button",children:t})})},i="MovieList_buttonWrap__bPcX1",u=function(e){var t=e.location,a=e.movieList,r=e.paginationPage,c=e.totalPages,u=e.onLoadNextPage,l=e.onLoadPreviousPage,h=e.onToStartPage;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("ul",{children:a.map((function(e){var a=e.id,r=e.title;return(0,o.jsx)("li",{children:(0,o.jsx)(n.rU,{to:"/movies/".concat(a),state:t,children:r})},a)}))}),(0,o.jsxs)("div",{className:i,children:[0!==a.length&&r>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{btnName:"Start page",onClick:h}),(0,o.jsx)(s,{btnName:"Previous page",onClick:l})]}),0!==a.length&&r<c&&(0,o.jsx)(s,{btnName:"Next page",onClick:u})]})]})}},160:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=a(439),r=a(791),c=a(689),o=a(87),s=a(468),i={searchForm:"Search_searchForm__0FeD+"},u=a(184),l=function(e){var t=e.handleSubmit,a=e.handleSearchInputChange,n=e.searchText;return(0,u.jsxs)("form",{onSubmit:t,className:i.searchForm,children:[(0,u.jsx)("label",{children:(0,u.jsx)("input",{className:i.input,value:n,name:"search",type:"text",onChange:a,autoComplete:"off"})}),(0,u.jsx)("button",{className:i.searchBtn,type:"submit",children:"Search"})]})},h=a(361),p=function(){var e,t=(0,c.TH)(),a=(0,o.lr)(),i=(0,n.Z)(a,2),p=i[0],g=i[1],d=(0,r.useState)([]),f=(0,n.Z)(d,2),m=f[0],v=f[1],x=(0,r.useState)(0),b=(0,n.Z)(x,2),j=b[0],_=b[1],P=Number(p.get("page"));0===P&&(P=1);var N=null!==(e=p.get("search"))&&void 0!==e?e:"",k="";(0,r.useEffect)((function(){(0,s.V)("/search/movie",P,N).then((function(e){if(200!==e.status)throw new Error(e.statusText);_(e.data.total_pages),v(e.data.results)}))}),[P,N]);return k=0===m.length?"No matches":'Search "'.concat(N,'" (Page ').concat(P," of ").concat(j,")"),(0,u.jsxs)("div",{children:[(0,u.jsx)(l,{handleSubmit:function(e){e.preventDefault(),P=1,g({search:N.trim(),page:1})},handleSearchInputChange:function(e){var t=e.target.value;g({search:t,page:P})},searchText:N}),N&&(0,u.jsx)("h3",{children:k}),0!==m.length&&(0,u.jsx)(h.Z,{location:t,movieList:m,paginationPage:P,totalPages:j,onLoadNextPage:function(){g({search:N,page:P+=1})},onLoadPreviousPage:function(){g({search:N,page:P-=1})},onToStartPage:function(){P=1,g({search:N,page:1})}})]})}},468:function(e,t,a){a.d(t,{V:function(){return i}});var n=a(861),r=a(757),c=a.n(r),o=a(243),s=a(73);function i(e){return u.apply(this,arguments)}function u(){return u=(0,n.Z)(c().mark((function e(t){var a,n,r,i,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:1,n=u.length>2&&void 0!==u[2]?u[2]:"",e.prev=2,r="https://api.themoviedb.org/3"+t+"?api_key=".concat("6dfafd08c001fd3262dc3fe23504fa05"),n&&(r+="&query=".concat(n.trim())),a&&(r+="&page=".concat(a)),e.next=10,o.Z.get(r);case 10:return i=e.sent,e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(2),s.Am.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),u.apply(this,arguments)}}}]);
//# sourceMappingURL=160.e000b95d.chunk.js.map