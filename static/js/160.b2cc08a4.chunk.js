"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[160],{361:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(87),r="Button_button__wiIYs",c="Button_buttonWrap__ZRtPo",o=n(184),s=function(e){var t=e.btnName,n=e.onClick;return(0,o.jsx)("div",{className:c,children:(0,o.jsx)("button",{className:r,onClick:n,type:"button",children:t})})},i="MovieList_buttonWrap__bPcX1",u=function(e){var t=e.location,n=e.movieList,r=e.paginationPage,c=e.totalPages,u=e.onLoadNextPage,l=e.onLoadPreviousPage,h=e.onToStartPage;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("ul",{children:n.map((function(e){var n=e.id,r=e.title;return(0,o.jsx)("li",{children:(0,o.jsx)(a.rU,{to:"/movies/".concat(n),state:t,children:r})},n)}))}),(0,o.jsxs)("div",{className:i,children:[0!==n.length&&r>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{btnName:"Start page",onClick:h}),(0,o.jsx)(s,{btnName:"Previous page",onClick:l})]}),0!==n.length&&r<c&&(0,o.jsx)(s,{btnName:"Next page",onClick:u})]})]})}},160:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=n(439),r=n(791),c=n(689),o=n(87),s=n(468),i={searchForm:"Search_searchForm__0FeD+"},u=n(184),l=function(e){var t=e.handleSubmit,n=e.handleSearchInputChange,a=e.searchText;return(0,u.jsxs)("form",{onSubmit:t,className:i.searchForm,children:[(0,u.jsx)("label",{children:(0,u.jsx)("input",{className:i.input,value:a,name:"search",type:"text",onChange:n,autoComplete:"off"})}),(0,u.jsx)("button",{className:i.searchBtn,type:"submit",children:"Search"})]})},h=n(361),p=function(){var e,t=(0,c.TH)(),n=(0,o.lr)(),i=(0,a.Z)(n,2),p=i[0],g=i[1],d=(0,r.useState)([]),f=(0,a.Z)(d,2),m=f[0],v=f[1],x=(0,r.useRef)(0),b=Number(p.get("page"));0===b&&(b=1);var j=null!==(e=p.get("search"))&&void 0!==e?e:"",_="";(0,r.useEffect)((function(){(0,s.V)("/search/movie",b,j).then((function(e){if(200!==e.status)throw new Error(e.statusText);x.current=e.data.total_pages,v(e.data.results)}))}),[b,j]);return _=0===m.length?"No matches":'Search "'.concat(j,'" (Page ').concat(b," of ").concat(x.current,")"),(0,u.jsxs)("div",{children:[(0,u.jsx)(l,{handleSubmit:function(e){e.preventDefault(),b=1,g({search:j.trim(),page:1})},handleSearchInputChange:function(e){var t=e.target.value;g({search:t,page:b})},searchText:j}),j&&(0,u.jsx)("h3",{children:_}),0!==m.length&&(0,u.jsx)(h.Z,{location:t,movieList:m,paginationPage:b,totalPages:x.current,onLoadNextPage:function(){g({search:j,page:b+=1})},onLoadPreviousPage:function(){g({search:j,page:b-=1})},onToStartPage:function(){b=1,g({search:j,page:1})}})]})}},468:function(e,t,n){n.d(t,{V:function(){return i}});var a=n(861),r=n(757),c=n.n(r),o=n(243),s=n(73);function i(e){return u.apply(this,arguments)}function u(){return u=(0,a.Z)(c().mark((function e(t){var n,a,r,i,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:"",e.prev=2,r="https://api.themoviedb.org/3"+t+"?api_key=".concat("6dfafd08c001fd3262dc3fe23504fa05"),a&&(r+="&query=".concat(a.trim())),n&&(r+="&page=".concat(n)),e.next=10,o.Z.get(r);case 10:return i=e.sent,e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(2),s.Am.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),u.apply(this,arguments)}}}]);
//# sourceMappingURL=160.b2cc08a4.chunk.js.map